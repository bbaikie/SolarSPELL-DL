    <!doctype html>
    <html>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="{{ url_for('static',filename='js/jquery-3.3.1.js') }}"></script>
    <script src="{{ url_for('static',filename='js/jquery.dataTables.min.js') }}"></script>

    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/jquery.dataTables.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/common_styles.css') }}">

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">-->

    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>-->
    <!--<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">-->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/bootstrap.min.css') }}">
    <script src="{{ url_for('static',filename='js/bootstrap.min.js') }}"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/w3.css') }}">


    <title>Solar Spell</title>
    <style>
    img {
      width: 20px;
      height: 20px;

    }


    body {
      background-color: #e6e6e6;
    }

    table {
      border-style: none;
      width: 100%;

    }
     td {

      text-align: left;
      border-style: none;
      border-bottom: 1px solid #ddd;
      font-size: 12px;
      box-sizing: border-box;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;

    }
     .center-box {
     display: block;
     position: absolute;
     left: 35%;



    }
    .filter-box
    {
       border-radius: 25px;
       border: 2px solid  white;
       text-align:center;
       background-color:white;
    }

    .shadow{
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }


    .contentDiv{
      padding-top: 20px;
      padding-right: 20px;
      padding-bottom: 20px;
      padding-left: 20px;
      background-color: #FFFFFF;
      width: 90%;

    }

    table.dataTable thead td {
      border-bottom: 1px solid #ddd;
      font-weight:bold;
      background-color: white;
      border-color:white;
      font-size: 20px;
      border-radius: 5px;
      font-family: "Lucida Sans Unicode";


    }

    table.dataTable.no-footer   {
      border : 0;
    }
       td {
        max-width: 120px;
        white-space: nowrap;
        text-overflow: ellipsis;
   }


    .side_menu_heading_style{
    color: #004d99;
    padding-top:10px;
    font-size: 1.5em;
    font-weight:bold;
    text-align:center;
    }

    .side_bar_text{
    font-weight:500;
    font-size: .85em;
    font-family: "Lucida Sans Unicode";


    }
    .sidebar-hr-line{
    width: 100%;
    position: relative;
    border-bottom: .5px solid  #e6e6e6;
    }

    a:hover{text-decoration:none}

    </style>


    <style>

    .center-img {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 3em;
  height:3em;
    }


    .modal-hr-line {
    width: 100%;
    position: relative;
    border-bottom: 3px solid #004d99;
    }

    .modal-content-iframe{
    width: 100%;
    height: 500px;
    max-height: 100%;
    border-bottom: 3px solid #004d99;
    border-top: 3px solid #004d99;
    }



    </style>
    <style>
    i {
      border: solid black;
      border-width: 0 3px 3px 0;
      display: inline-block;
      padding: 3px;
    }

    .left {
      transform: rotate(135deg);
      -webkit-transform: rotate(135deg);
      color:red;
    }


    .right {
        transform: rotate(-45deg);
        -webkit-transform: rotate(-45deg);
        }




    </style>
        <nav class="navbar navbar-inverse" style=" background-image: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);  border-radius: 0px;
         border-color: #9ecaed;    margin: 0px; padding: 0px; ">
            <div class="container-fluid">

                <div class="navbar-header"><center><div style="width: 20em; max-width: 200px; "> <center>
                    <img id="main_page_link" style="width: 3em; height: 100%"  src='/static/images/logo_small2.png'></center></div>
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                               <span class="sr-only">Toggle navigation</span>
                               <span class="icon-bar"></span>
                               <span class="icon-bar"></span>
                               <span class="icon-bar"></span>


                    </button></center>

                </div>
                <div class="collapse navbar-collapse nav-right" id="myNavbar">
                    <ul id="top_menu_ui" class="nav navbar-nav"></ul>

                </div>
            </div>
        </nav>
        <div id="banner_div" style="background-color: white;  margin: 0px; padding: 0px; margin-top:0px ">

        <!--<video id='my-video' class='video-js' controls preload='auto' width='640' height='264'-->
        <!--poster='MY_VIDEO_POSTER.jpg' data-setup='{}'>-->
        <!--<source src="content/Creative Arts/Teaching Resources and Classroom Activities/Music, Movement, and Video/BobbysStorytelling.mp4" type='video/mp4'>-->
        <!--<source src="content/Creative Arts/Teaching Resources and Classroom Activities/Music, Movement, and Video/BobbysStorytelling.mp4" type='video/webm'>-->
        <!--<p class='vjs-no-js'>-->
        <!--To view this video please enable JavaScript, and consider upgrading to a web browser that-->
        <!--<a href='https://videojs.com/html5-video-support/' target='_blank'>supports HTML5 video</a>-->
        <!--</p>-->
        <!--</video>-->

        <!--<script src='https://vjs.zencdn.net/7.4.1/video.js'></script>-->


        <!--<p>-->
        <!--Video courtesy of-->
        <!--<a href="https://www.bigbuckbunny.org/" target="_blank">Big Buck Bunny</a>.-->
        <!--</p>-->
    </div>


    <div class="container-fluid" style="background-color:white;  padding: 0px; ">
        <div class="row" style="background-color:white;  padding-left: 35px; ">
            <div class="col-sm-3" style="  padding-bottom:25px;  padding-top:25px; "><span id="back_button"><center>  <i class="left" style="padding:8px; "    ></i></center></span></div>
            <div class="col-sm-9" style="  padding-bottom:25px;  padding-top:25px;" id="path_info"></div>
        </div>
    </div>

    <!--############################################3-->
    <!--############################################3-->
    <!--############################################3-->
    <div class="container-fluid" style="  position: relative; ">

        <div id="side_menu_div" class=" w3-bar-block w3-card
"style="background-color: white;width:25%;left:0;    position: absolute;  height: 100%; overflow-y:auto;    "> </div>

        <!--############################################3-->
        <div id="left_div" style="margin-left:25%">

            <div class="w3-container  ">


                <div style="border-color:white;   ">
                    <div id="table_div"
                         style="background-color: white; border-color:white; padding:5%; margin:3% ; border-radius: 15px;"></div>

                            <!--<p>Some text in the Modal..</p></div>-->
                        <!--<iframe src="/static/content/Science/Physical Science/Physics\Multidisciplinary workbook.pdf"-->
                                <!--style="height:1200px;width:800px"></iframe>-->

                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    <div  style="    width: 100%; height: 7em; background-image: radial-gradient(circle 248px at center, #16d9e3 0%, #30c7ec 47%, #46aef7 100%); " >
        <div class="center-box" style="width:100%;padding-top:2em; padding-bottom:2em; position: relative;
                    " >

            <div class="row " style=" fontFamily= ' sans-serif'; ">

            <button class="filter-box col-sm-4 shadow  "  style="width:32%;  height: 3.5em; color:#16d9e3;
                 background-image: linear-gradient(to right, #243949 0%, #517fa4 100%);
                   border: none;color: white;" type="text"  id="about-us-button">
                <span  justify-content: space-between; >  About Us </span>  </button>

            </div>
        </div>

    </div>

  <div class="container  " style="background-color:gray;  width:100%;">

      <div class="row " style="  width:100%; ">
      <center>
      <div class="col-sm-4" style="  margin:auto; width: 50%;  height: 50%;"><img style=" width: 100%;  height: 100% ;  "src='/static/images/logo.png'> </div>
      <div class="col-sm-4" style="  margin:auto; width: 50%;  height: 50%; "><img style=" width: 100%;  height: 100%;  "src='/static/images/asu_logo.png'> </div>
      </center>
      </div>

  </div>
    </body>
    <script>


    </script>
    <script>




function creating_current_links(info_div_original ){

    <!--Generating Back Directory Links  -->
    var current_link_str =  info_div_original.current_link.replace(/%20/g, " ");
    var current_link_str_useful = current_link_str.split('content/')[1];
    var current_link_parts=current_link_str_useful.split('/');
    div_elements={}
    var base_link =  {{ base_link  |safe  }} ;
    path_str='/spellmodules/'+base_link["base_link"];
    previous_path_str='/spellmodules/'+base_link["base_link"];

        <!--var current_link_str_useful = current_link_str.split('static/content/')[1];-->
    <!--var current_link_parts=current_link_str_useful.split('/');-->
    <!--div_elements={}-->
    <!--path_str="/spellmodules/D:/itelliJ-Projects/SolarSpellSite/static/content";-->
    <!--previous_path_str="/spellmodules/D:/itelliJ-Projects/SolarSpellSite/static/content"-->
    for (var i in current_link_parts) {

          div_elements[current_link_parts[i]]=path_str+"/"+current_link_parts[i];
          previous_path_str=path_str
          path_str=path_str+"/"+current_link_parts[i];


    }
    console.log(div_elements);

    <!--Adding Back Directory Links  -->

    main_div=document.getElementById('path_info');
    main_div.innerHTML = '  ';
    for (var i  in div_elements) {


    var a = document.createElement('a');
    a.innerHTML = "<b>"+i+"</b>";
    a.title = i ;
    var patt = new RegExp("^.*\.(jpg|JPG|gif|GIF|doc|DOC|pdf|PDF|htm|mp3|mp4)$");
    if(!patt.test(i))
    {
    a.href = div_elements[i];
    main_div.appendChild(a);
    }
    var a_arrow = document.createElement('a');
    <!--a_arrow.innerHTML =  "<b><span style='color:gray; font-size: 25px;'> ></span></b> ";-->
    a_arrow.innerHTML =  ' <i class="right" style="padding:5px; margin-right:2px;"></i> ';
    a_arrow.title = i ;
    a_arrow.style.fontStyle="oblique";
    main_div.appendChild(a_arrow);

    }



    <!--Back Button On Click -->
    $(document).on("click", "#back_button", function() {
    if(info_div_original.back_link==null){
    window.location.href = "/";
    }
    window.location.href =previous_path_str;
    });



    }
    var info_div_original =  {{ info_div  |safe  }} ;
    console.log("info_div_original:"+JSON.stringify(info_div_original));

    if(info_div_original.current_link != null && info_div_original.current_link != ''&& info_div_original.current_link != '/')
     {
     creating_current_links(info_div_original );

     }
    else{
    console.log("Skipping");
    }

    if(info_div_original.current_subject != null && info_div_original.current_subject != ''&& info_div_original.current_subject != '/')
     {
      var elem = document.createElement("img");
      subject_info=info_div_original.current_subject.toLowerCase();
      subject_info=subject_info.trim();
      subject_info=subject_info.replace(/ /g, "_");

      img_src_str="/static/images/banner_"+subject_info+".png";
      elem.setAttribute("src", img_src_str);

      elem.style.height= "50%" ;
      elem.style.width="100%" ;
      elem.setAttribute("id", "banner_img");
      <!--elem.setAttribute("alt", "Flower");-->
      document.getElementById("banner_div").appendChild(elem);
      console.log("added:"+img_src_str);


      $(document).ready(function()
    {
        $("#banner_img").on("error", function(){
            console.log("Loading Backup");
            $(this).attr('src', '/static/images/banner_backup.png');
        });
    });
     }
    else{
    console.log("Skipping");
    }



    var file_structure_json_original =  {{ file_structure  |safe  }} ;
    var file_structure_json=file_structure_json_original

    function tableCreate() {
      var body = document.getElementById("table_div");

      var ourTable     = document.createElement("table");
      ourTable.className += "ourDisplayTableClass"
      ourTable.setAttribute("id", "main_table");
      var header = ourTable.createTHead();
      var row = header.insertRow(0);

      var cell = row.insertCell(0);
      cell.innerHTML = " Type";

      var cell = row.insertCell(1);
      cell.innerHTML = "Topic";
      var header = ourTable.createTHead();

      var cell = row.insertCell(2);
      cell.innerHTML = " Path";



      var ourTableBody = document.createElement("tbody");


      <!--console.log(file_structure_json["children"])-->


      for (key in  file_structure_json["children"] ) {

         var row = document.createElement("tr");
         row.className +="clickable-row ";
         row.setAttribute("data-type", file_structure_json["children"][key].type);
         row.setAttribute("data-name", file_structure_json["children"][key].name);
         row.setAttribute("data-path", file_structure_json["children"][key].path);


         var cell1 = document.createElement("td");

         var nameText = document.createTextNode(  file_structure_json["children"][key].name  );

         cell1.appendChild(nameText);
         <!--cell1.width= "50em";-->

         var cell2 = document.createElement("td");
         var pathText = document.createTextNode( file_structure_json["children"][key].path  );
         cell2.appendChild(pathText);

         var cell3 = document.createElement("td");
         <!--var pathText = document.createTextNode( file_structure_json["children"][key].type  );-->
         <!--cell3.appendChild(pathText);-->

         if(file_structure_json["children"][key].type=="file")
         {
         var img = document.createElement('img');
         img.src = "/static/images/"+file_structure_json["children"][key].name.slice(-3)+".png";
         cell3.appendChild(img);
         img.className = "center-img";
         cell3.width = "10em";
         }
         else if(file_structure_json["children"][key].type=="folder")
         {
         var img = document.createElement('img');
         img.src = "/static/images/"+"folder"+".png";
         cell3.appendChild(img);
         img.className = "center-img";
         cell3.width = "10em";
         }

         row.appendChild(cell3);
         row.appendChild(cell1);
         row.appendChild(cell2);



         ourTableBody.appendChild(row);

      }


      ourTable.appendChild(ourTableBody);

      body.appendChild(ourTable);

      ourTable.setAttribute("border", "2");

      $('#main_table').DataTable({
                        <!--"bPaginate": false,-->
                        "showNEntries" : false,
                        "bFilter": false,
                        "bInfo": false,
                        "lengthChange": false,
                        "bAutoWidth": false,


            }).column( 2 ).visible( false );

     }


    function mainMenuCreate(){
     var menu_titles_original =  {{ menu_titles  |safe  }} ;
    <!--console.log("menu_titles:"+JSON.stringify(menu_titles_original));-->
    for (key  in menu_titles_original){
       item=menu_titles_original[key]
       var container_div = document.createElement("li");
       container_div.className +="dropdown";
       var container_drop_button = document.createElement("a");
       container_drop_button.setAttribute("data-toggle", "dropdown");
       container_drop_button.textContent=item["name"];
       container_drop_button.style.color="white";
       container_drop_button.style.fontFamily= "sans-serif";
       container_drop_button.style.fontSize="small";
       container_drop_button.setAttribute("href", "#");
        container_div.appendChild(container_drop_button);
       container_drop_button.className +="dropdown-toggle";

       span_container_drop_button=document.createElement("span");
       span_container_drop_button.className +="caret";
       container_drop_button.appendChild(span_container_drop_button);


       var dropping_div = document.createElement("ul");
       dropping_div.className +="dropdown-menu";
       
       container_div.appendChild(dropping_div);
       console.log(item.name.substring(0, 5));
       dropping_div.setAttribute("id", item.name.substring(0, 5)+"_menu" );
       for (sub_key in item.children ){
       sub_title_item=item.children[sub_key]
       console.log(item.children)

       var li_content = document.createElement("li");
       var a1 = document.createElement("a");
       a1.className+="main_menu_sub_title";


       a1.setAttribute("data-title", item.name);
       a1.setAttribute("data-subtitle",sub_title_item.name);
       a1.setAttribute("data-subtitle-path",sub_title_item.path);
       a1.style.color = "black";
       a1.style.backgroundColor = "white";


       a1.textContent= sub_title_item.name ;
       li_content.appendChild(a1);
       dropping_div.appendChild(li_content);
        }


       var main_menu = document.getElementById("top_menu_ui");
       main_menu.appendChild(container_div);
       }
      var reference_tool_links_original =  {{ reference_tool_links  |safe  }} ;
      for (key  in reference_tool_links_original){
       var li_content = document.createElement("li");
       var dropping_div = document.getElementById("Refer_menu");


       var a1 = document.createElement("a");
       a1.setAttribute("id",  "somethin1");
       a1.className+="reference_tool_class";
       a1.setAttribute("data-title", "something2");
       a1.setAttribute("data-subtitle","something3");
       a1.style.color = "black";
       a1.style.backgroundColor = "white";
       a1.setAttribute("data-subtitle-path", reference_tool_links_original[key].link);
       a1.textContent= reference_tool_links_original[key].name ;
       li_content.appendChild(a1);
       dropping_div.appendChild(li_content);

      }




    }

    mainMenuCreate();
    tableCreate();



    function sideMenuCreate(){

    var menu_titles_original =  {{ menu_titles  |safe  }} ;
    var info_div_original= {{ info_div  |safe  }};
    var subject=info_div_original["current_subject"];
    item=menu_titles_original[subject]
    console.log("Item"+subject);
    console.log(JSON.stringify(item));
    var side_menu_div= document.createElement("div");
    var a_head = document.createElement("div");
    <!--a_head.setAttribute("id", "side_menu_heading");-->
    <!--a_head.className+="side_menu_heading_style";-->
    <!--a_head.textContent=subject;-->
    side_menu_div.appendChild(a_head);
    line_hr1 = document.createElement('hr');
    line_hr1.className +="sidebar-hr-line";
    <!--side_menu_div.appendChild(line_hr1);-->
    for (sub_key in item.children ){
       sub_title_item=item.children[sub_key]

       <!--console.log(sub_title_item);-->
       var a1 = document.createElement("a");
       a1.style.paddingLeft ="3.5em";
       a1.setAttribute("id", "side_menu_sub_title");
       a1.className +="w3-bar-item w3-button side_bar_text";
       a1.setAttribute("data-title", item.name);
       a1.setAttribute("data-subtitle",sub_title_item.name);
       a1.setAttribute("data-subtitle-path",sub_title_item.path);
       a1.textContent= sub_title_item.name ;
       side_menu_div.appendChild(a1);

        }

        line_hr2 = document.createElement('hr');
        line_hr2.className +="sidebar-hr-line";
        side_menu_div.appendChild(line_hr2);

        pdf_a=document.createElement("a");
        pdf_a.style.paddingLeft ="3.5em";
        pdf_a.className +="w3-bar-item w3-button side_bar_text";
        pdf_a.innerHTML=" <span  justify-content: space-between; > <img style='width :3em; height :3em;' src=/static/images/pdf.png></img> PDFs</span>";
        <!--var image_element = document.createElement("div");-->
        <!--image_element.innerHTML("src", "");-->
        <!--video_a.appendChild(element);-->

        others_a=document.createElement("a");
        others_a.style.paddingLeft ="3.5em";
        others_a.className +="w3-bar-item w3-button side_bar_text";
        others_a.innerHTML=" <span  justify-content: space-between; > <img style='width :3em; height :3em;' src=/static/images/txt.png></img> Other Content</span>";

        video_a=document.createElement("a");
        video_a.style.paddingLeft ="3.5em";
        video_a.className +="w3-bar-item w3-button side_bar_text";
        video_a.innerHTML=" <span  justify-content: space-between; > <img style='width :3em; height :3em;' src=/static/images/mp4.png></img> Videos</span>";
        <!--var image_element = document.createElement("div");-->
        <!--image_element.innerHTML("src", "");-->
        <!--video_a.appendChild(element);-->

        side_menu_div.appendChild(pdf_a);
        side_menu_div.appendChild(video_a);
        side_menu_div.appendChild(others_a);

       var side_menu = document.getElementById("side_menu_div");
       side_menu.appendChild(side_menu_div);
       }
    sideMenuCreate();


$(document).on("click", ".main_menu_sub_title", function() {

    title=$(this).data('title');
    subtitle=$(this).data('subtitle');
    window.location = '/spellmodules/' + $(this).data('subtitle-path');
});

$(document).on("click", "#side_menu_sub_title", function() {
    title=$(this).data('title');
    subtitle=$(this).data('subtitle');
    window.location = '/spellmodules/' + $(this).data('subtitle-path');
});
$(document).on("click", "#about-us-button", function() {

    window.location = '/aboutus/'  ;
});
$(document).on("click", "#main_page_link", function() {

    window.location = '/'  ;
});

    $(document).on("click", ".reference_tool_class", function() {

      window.location = '/reference_tools/'  + $(this).data('subtitle-path');
    });


function side_nav_open() {
  document.getElementById("side_menu_div").style.display = "block";
}

function side_nav_close() {
  document.getElementById("side_menu_div").style.display = "none";
  document.getElementById("left_div").style.marginLeft ="2%";
}


$(document).ready(function() {
        $(document).on("click", "#main_table tbody tr", function() {


            <!--file_structure_json=getPathAction($(this).data('path'));-->
            <!--console.log("Current path:\n"+JSON.stringify(file_structure_json))-->
            if($(this).data('type')=='folder')
            {
            window.location = '/spellmodules/' + $(this).data('path');
            }
            else{
                $('#main_table').DataTable().destroy();
                document.getElementById("main_table").remove();
                 var content_body = document.getElementById("table_div");
                 <!--var modal = document.getElementById('display-modal');-->
                 <!--console.log("File Clicked : "+ $(this).data('name') );-->
                 <!--modal.style.display = "block";-->
                 var modal_heading = document.createElement('h2');
                 modal_heading.innerHTML =$(this).data('name');
                 line_hr = document.createElement('hr');
                 line_hr.className +="modal-hr-line";

                 var modal_iframe = document.createElement('iframe');
                 modal_iframe.className +='modal-content-iframe';
                 modal_iframe.setAttribute('id', 'modal_iframe'); // assign an id
                 src_path=$(this).data('path').split('new_solarspell_site')[1]
                 console.log(src_path)
                 modal_iframe.setAttribute('src',src_path);
                 content_body.append(modal_heading);
                 content_body.append(line_hr);
                 content_body.append(modal_iframe);
                 var info_div_original =  {{ info_div  |safe  }} ;

                 src_path =  src_path.replace(/\\/g ,"// ");
                 info_div_original.current_link=src_path;
                 creating_current_links(info_div_original );
                 side_nav_close();


     }});
    });




      function selectnav() {

      var select = document.createElement('select');
      var first = document.createElement('option');

      first.innerHTML = 'Navigation';
      first.setAttribute('selected', 'selected');
      select.setAttribute('id', 'mobile');
      select.appendChild(first);

      var nav = document.getElementById('nav');
      var loadLinks = function(element, hyphen, level) {

        var e = element;
        var children = e.children;

        for(var i = 0; i < e.children.length; ++i) {

          var currentLink = children[i];

          switch(currentLink.nodeName) {
            case 'A':
              var option = document.createElement('option');
              option.innerHTML = (level++ < 1 ? '' : hyphen) + currentLink.innerHTML;
              option.value = currentLink.href;
              select.appendChild(option);
              break;
            default:
              if(currentLink.nodeName === 'UL') {
                (level < 2) || (hyphen += hyphen);
              }
              loadLinks(currentLink, hyphen, level);
              break;
          }
        }
      }

      loadLinks(nav, '- ', 0);

      nav.appendChild(select);

      var mobile = document.getElementById('mobile');

      if(mobile.addEventListener) {
        mobile.addEventListener('change', function () {
          window.location.href = mobile.options[mobile.selectedIndex].value;
        });
      } else if(mobile.attachEvent) {
        mobile.attachEvent('onchange', function () {
          window.location.href = mobile.options[mobile.selectedIndex].value;
        });
      } else {
        mobile.onchange = function () {
          window.location.href = mobile.options[mobile.selectedIndex].value;
        }
      }
    }


    </script>
    </html>




